<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
		<title>BBNL- Signup</title>
		<link rel="stylesheet" type="text/css" href="../static/css/user_signup.css">
		<style>
			small{
			color: #c92432;
			position:absolute ;
			margin-left: 5%;
			}
		</style>
	</head>
	<body>

		<nav th:include="base :: navb"></nav>

		<div class="login-wrap mt-5">
			<div class="login-html">
				<label class="tab">Sign up User</label>
				<div class="hr"></div>
				<div class="login-form">
				 <form action="#" name="form" onsubmit="return validateForm()" th:action="@{/saveuser}" th:object="${user}" method="post">
					<input type="hidden" th:field="*{userId}" />
					<input type="hidden" th:field="*{status}" />
					<input type="hidden" th:field="*{isLocked}" />
					<input type="hidden" th:field="*{unsuccessfulEntry}" />
					
					<div class="row row-cols-3">
						<div class="group col" id="name">
							<label for="user" class="label">First Name</label>
							<input type="text" class="input" name="fname" th:field="*{firstName}" >
							<small class="formerror"></small>
						</div>
						<div class="group col">
							<label for="user" class="label">Middle Name</label>
							<input type="text" class="input" name="mname" th:field="*{middleName}" >
						</div>
						<div class="group col">
							<label for="user" class="label">Last Name</label>
							<input type="text" class="input" name="lname" th:field="*{lastName}" >
						</div>
					</div>
											
					<div class="row row-cols-3">						
						<div class="group col">
							<label class="label">E-mail ID</label>
							<input type="email" class="input" name="email" th:field="*{emailId}" >
						</div>
						<div class="group col">
							<label class="label">Password</label>
							<input type="password" class="input" name="pass" th:field="*{password}" >
						</div>
						<div class="group col">
							<label class="label">Confirm Password</label>
							<input type="password" class="input" name="cpass" >
						</div>
					</div>
					
					<div class="row row-cols-2">
						<div class="group col">
							<label class="label">Security Question</label>
							<select class="input btn-secondary" name="ques" th:field="*{secQuestion}">
								<option value="What is your favorite color?">What is your favorite color?</option>
								<option value="In what city were you born?">In what city were you born?</option>
								<option value="What is your mother's maiden name?">What is your mother's maiden name?</option>
								<option value="What is the name of your first school?">What is the name of your first school?</option>
								<option value="What was your favorite food as a child?">What was your favorite food as a child?</option>
							</select>
						</div>
						<div class="group col">
							<label class="label">Address</label>
							<input type="text" class="input"  name="add" th:field="*{address}" >
						</div>
					</div>
					
					<div class="row row-cols-2">
						<div class="group col">
							<label class="label">Security Answer</label>
							<input type="text" class="input"  name="ans" th:field="*{secAnswer}" >
						</div>
						<div class="group col">
							<label class="label">City</label>
							<input type="text" class="input"  name="city" th:field="*{city}" >
						</div>
					</div>
					
					<div class="row row-cols-2">
						<div class="group col">
							<label class="label">Account Type</label>
							<select class="input btn-secondary"  name="role" th:field="*{role}">
								<option value="ROLE_CUSTOMER">CUSTOMER</option>
								<option value="ROLE_USER">BBNL USER</option>
								<option value="ROLE_PROVIDER">SERVICE PROVIDER</option>
								<option value="ROLE_MINISTERIAL">MINISTERIAL USER</option>
							</select>
						</div>
						<div class="group col">
							<label for="m_no" class="label">Mobile Number</label>
							<input type="tel" class="input"  name="mob" th:field="*{mobileNumber}" >
						</div>
					</div>
					<div class="group submit">
						<input type="submit" class="button" value="Sign Up">
					</div>
					<a href="/signin">Already have an account?</a>
					<div class="hr"></div>
					</form>
				</div>
				
			</div>
		</div>

		<script>
			function seterror(id, error){
				element = document.getElementById(id);
				element.getElementsByClassName('formerror')[0].innerHTML = error;

			}

			function validateForm(){
				
				var name = document.forms['form']["fname"].value;
				var returnval = true;
				if(name.length < 5){
					seterror("name","*Length of name is too short");
					returnval = false;
				}

				return returnval;
				
			}

		</script>


	</body>
</html>